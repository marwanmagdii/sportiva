<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sportiva - Coach Dashboard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .sidebar-link-active {
            background-color: #e0f2fe; /* sky-100 */
            color: #0284c7; /* sky-600 */
            border-right: 3px solid #0284c7;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #0284c7;
        }
        .toggle-checkbox:checked + .toggle-label .dot {
            transform: translateX(100%);
        }
        /* New styles for the enhanced nav/footer */
        .enhanced-shadow { 
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
        } 
        .enhanced-shadow:hover { 
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.1), 0 6px 12px -6px rgba(0, 0, 0, 0.08); 
            transform: translateY(-2px); 
        } 
        .nav-link-animated { 
            position: relative; 
            transition: all 0.3s ease; 
            padding-bottom: 4px; /* Space for the underline */ 
        } 
        .nav-link-animated::after { 
            content: ''; 
            position: absolute; 
            width: 0; 
            height: 2px; 
            bottom: 0; 
            left: 50%; 
            background-color: #10b981; /* emerald-500 */ 
            transition: all 0.3s ease; 
            transform: translateX(-50%); 
        } 
        .nav-link-animated:hover { 
            color: #059669; /* emerald-600 */ 
            transform: translateY(-2px); /* Slight lift effect */ 
        } 
        .nav-link-animated:hover::after { 
            width: 100%; 
        } 
    </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">
    <div id="coach-app-container">
        <!-- Coach App content will be rendered here dynamically -->
    </div>

    <!-- The new footer from the provided code -->
    <footer class="bg-gray-900 text-white"> 
        <div class="container mx-auto py-12 px-4 sm:px-6"> 
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left"> 
                <div class="md:col-span-1"> 
                    <h2 class="text-3xl font-bold text-emerald-500">Sportiva</h2> 
                    <p class="text-gray-400 mt-2">Your ultimate destination for sports.</p> 
                    <div class="flex justify-center md:justify-start space-x-4 mt-4"> 
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook-f fa-lg"></i></a> 
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-twitter fa-lg"></i></a> 
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram fa-lg"></i></a> 
                    </div> 
                </div> 
                <div> 
                    <h3 class="font-semibold tracking-wider uppercase">Dashboards</h3> 
                    <ul class="mt-4 space-y-2"> 
                        <li><a href="player-dashboard.html" class="text-gray-400 hover:text-white">Player</a></li> 
                        <li><a href="coach-dashboard.html" class="text-gray-400 hover:text-white">Coach</a></li> 
                        <li><a href="field-owner-dashboard.html" class="text-gray-400 hover:text-white">Field Owner</a></li> 
                        <li><a href="marketplace-dashboard.html" class="text-gray-400 hover:text-white">Marketplace</a></li> 
                    </ul> 
                </div> 
                <div> 
                    <h3 class="font-semibold tracking-wider uppercase">Find</h3> 
                    <ul class="mt-4 space-y-2"> 
                        <li><a href="find.html" class="text-gray-400 hover:text-white">Players</a></li> 
                        <li><a href="find.html" class="text-gray-400 hover:text-white">Teams</a></li> 
                        <li><a href="find.html" class="text-gray-400 hover:text-white">Coaches</a></li> 
                        <li><a href="find.html" class="text-gray-400 hover:text-white">Challenges</a></li> 
                    </ul> 
                </div> 
                <div> 
                    <h3 class="font-semibold tracking-wider uppercase">More</h3> 
                    <ul class="mt-4 space-y-2"> 
                        <li><a href="fields.html" class="text-gray-400 hover:text-white">Fields</a></li> 
                        <li><a href="marketplace.html" class="text-gray-400 hover:text-white">Marketplace</a></li> 
                        <li><a href="about-us.html" class="text-gray-400 hover:text-white">About Us</a></li> 
                    </ul> 
                </div> 
            </div> 
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500"> 
                <p>&copy; 2025 Sportiva. All Rights Reserved.</p> 
            </div> 
        </div> 
    </footer>

    <script>
        // --- COACH APP STATE ---
        const coachAppState = {
            activePage: 'overview',
            isProfileDropdownOpen: false,
        };

        // --- COACH MOCK DATA ---
        const coachMockData = {
            coach: {
                name: "Coach Omar",
                specialty: "Football Tactics & Fitness",
                profileImage: "images/coachs/coach 6.png",
                email: "omar.coach@sportiva.com",
                phone: "011-9876-5432"
            },
            stats: {
                upcomingSessions: 4,
                clients: 12,
                pendingRequests: 2,
                monthlyRevenue: "15,000 EGP"
            },
            schedule: [
                { id: 1, client: "Ali Hassan", time: "Aug 8, 2025, 5:00 PM", status: "Confirmed", clientImg: "images/people/people 2.png" },
                { id: 2, client: "Omar Sherif", time: "Aug 8, 2025, 7:00 PM", status: "Confirmed", clientImg: "images/people/people 3.png" },
                { id: 3, client: "Youssef Ali", time: "Aug 9, 2025, 6:00 PM", status: "Confirmed", clientImg: "images/people/people 6.png" },
            ],
            requests: [
                { id: 4, client: "Mohamed Adel", time: "Aug 11, 2025, 8:00 PM", status: "Pending", clientImg: "images/people/people 8.png" },
                { id: 5, client: "Ahmed Zaki", time: "Aug 12, 2025, 7:00 PM", status: "Pending", clientImg: "images/people/people 10.png" }
            ],
            clients: [
                 { name: "Ali Hassan", joined: "Jan 2025", sessions: 15, img: "images/people/people 2.png" },
                 { name: "Omar Sherif", joined: "Mar 2025", sessions: 8, img: "images/people/people 3.png" },
                 { name: "Youssef Ali", joined: "May 2025", sessions: 5, img: "images/people/people 6.png" },
                 { name: "Mohamed Adel", joined: "Jun 2025", sessions: 3, img: "images/people/people 8.png" },
            ]
        };

        // --- RENDER FUNCTIONS ---

        // Renders the new header from the provided code
        function renderHeader() {
            return `
                <header class="bg-white shadow-lg sticky top-0 z-50"> 
                    <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center"> 
                        <div class="flex-1 flex justify-start items-center"> 
                            <button id="mobile-menu-button" class="md:hidden text-gray-600 hover:text-emerald-600 focus:outline-none mr-4"> 
                                <i class="fas fa-bars fa-lg"></i> 
                            </button> 
                            <a href="index.html" class="flex items-center space-x-2"> 
                                <img src="images/logo/Sportiva logo.png" alt="Sportiva Logo" class="h-10 w-10" onerror="this.onerror=null;this.src='https://placehold.co/40x40/10b981/FFFFFF?text=S';"> 
                                <span class="text-3xl font-bold text-emerald-600">Sportiva</span> 
                            </a> 
                        </div> 
                        <div class="hidden md:flex flex-1 justify-center items-center space-x-12 text-xl"> 
                            <a href="fields.html" class="nav-link-animated text-gray-700 font-semibold">Fields</a> 
                            <a href="find.html" class="nav-link-animated text-gray-700 font-semibold">Find</a> 
                            <a href="marketplace.html" class="nav-link-animated text-gray-700 font-semibold">Marketplace</a> 
                        </div> 
                        <div class="flex-1 flex justify-end"> 
                            <div class="relative"> 
                                <button id="profile-button" class="block rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500"> 
                                    <!-- Using a placeholder for the profile image since we don't have the original -->
                                    <img src="https://placehold.co/40x40/E0E0E0/333333?text=CO" alt="Your profile picture" class="w-10 h-10 rounded-full object-cover border-2 border-emerald-500 hover:border-emerald-600 transition"> 
                                </button> 
                                <div id="profile-dropdown" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-md enhanced-shadow z-50 ring-1 ring-black ring-opacity-5"> 
                                    <div class="px-4 py-3 border-b"> 
                                        <p class="text-sm font-semibold text-gray-800">Coach Omar</p> 
                                        <p class="text-xs text-gray-500 truncate">omar.coach@sportiva.com</p> 
                                    </div> 
                                    <div class="py-1 border-b"> 
                                        <p class="px-4 pt-2 pb-1 text-xs font-semibold text-gray-400 uppercase">Switch Dashboard</p> 
                                        <a href="player-dashboard.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"> 
                                            <i class="fas fa-user w-5 mr-2 text-gray-500"></i> Player 
                                        </a> 
                                        <a href="coach-dashboard.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"> 
                                            <i class="fas fa-user-tie w-5 mr-2 text-gray-500"></i> Coach 
                                        </a> 
                                        <a href="field-owner-dashboard.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"> 
                                            <i class="fas fa-map-marked-alt w-5 mr-2 text-gray-500"></i> Field Owner 
                                        </a> 
                                        <a href="marketplace-dashboard.html" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"> 
                                            <i class="fas fa-store w-5 mr-2 text-gray-500"></i> Marketplace 
                                        </a> 
                                    </div> 
                                    <div class="py-1"> 
                                        <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"> 
                                            <i class="fas fa-cog w-5 mr-2 text-gray-500"></i> Settings 
                                        </a> 
                                        <a href="#" class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-100"> 
                                            <i class="fas fa-sign-out-alt w-5 mr-2"></i> Sign Out 
                                        </a> 
                                    </div> 
                                </div> 
                            </div> 
                        </div> 
                    </nav> 
                </header> 
            `;
        }
        
        // This function is unchanged from the original code
        function renderCoachSidebar() {
             const links = [
                 { id: 'overview', icon: 'fa-tachometer-alt', text: 'Overview' },
                 { id: 'schedule', icon: 'fa-calendar-alt', text: 'My Schedule' },
                 { id: 'clients', icon: 'fa-users', text: 'My Clients' },
                 { id: 'requests', icon: 'fa-inbox', text: 'Session Requests' },
                 { id: 'settings', icon: 'fa-cog', text: 'Settings' },
            ];
            return `
                 <aside class="w-64 bg-white h-screen sticky top-[72px] shadow-lg">
                    <div class="p-6 text-center border-b">
                        <img src="${coachMockData.coach.profileImage}" alt="Coach Profile" class="w-24 h-24 rounded-full mx-auto mb-3 border-4 border-sky-200 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/96x96/0284c7/FFFFFF?text=CO';">
                        <h3 class="text-xl font-bold text-gray-800">${coachMockData.coach.name}</h3>
                        <p class="text-sm text-gray-500">${coachMockData.coach.specialty}</p>
                    </div>
                    <nav class="mt-6">
                        ${links.map(link => `
                            <a href="#" data-page="${link.id}" class="coach-nav-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100 ${coachAppState.activePage === link.id ? 'sidebar-link-active' : ''}">
                                <i class="fas ${link.icon} w-6 text-center mr-3"></i>
                                <span>${link.text}</span>
                            </a>
                        `).join('')}
                    </nav>
                 </aside>
            `;
        }

        // The rest of the render functions remain unchanged
        function renderCoachOverview() {
            return `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-8">Coach Dashboard</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-md"><p class="text-sm font-medium text-gray-500">Upcoming Sessions</p><p class="text-3xl font-bold text-gray-900">${coachMockData.stats.upcomingSessions}</p></div>
                    <div class="bg-white p-6 rounded-xl shadow-md"><p class="text-sm font-medium text-gray-500">Total Clients</p><p class="text-3xl font-bold text-gray-900">${coachMockData.stats.clients}</p></div>
                    <div class="bg-white p-6 rounded-xl shadow-md"><p class="text-sm font-medium text-gray-500">Pending Requests</p><p class="text-3xl font-bold text-gray-900">${coachMockData.stats.pendingRequests}</p></div>
                    <div class="bg-white p-6 rounded-xl shadow-md"><p class="text-sm font-medium text-gray-500">This Month's Revenue</p><p class="text-3xl font-bold text-gray-900">${coachMockData.stats.monthlyRevenue}</p></div>
                </div>
                  <div class="bg-white p-6 rounded-xl shadow-md">
                     <h2 class="text-xl font-bold text-gray-800 mb-4">Today's Schedule</h2>
                     <div class="space-y-4">
                         ${coachMockData.schedule.slice(0, 2).map(s => `
                             <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                 <div class="flex items-center">
                                     <img src="${s.clientImg}" class="w-10 h-10 rounded-full object-cover mr-4" onerror="this.onerror=null;this.src='https://placehold.co/40x40/E0E0E0/333333?text=P';">
                                     <div><p class="font-bold text-gray-800">${s.client}</p><p class="text-sm text-gray-500">${s.time}</p></div>
                                 </div>
                                 <span class="text-sm font-medium text-green-600">Confirmed</span>
                             </div>
                         `).join('')}
                     </div>
                  </div>
            `;
        }

        function renderCoachSchedule() {
            return `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-8">My Schedule</h1>
                  <div class="bg-white p-6 rounded-xl shadow-md">
                     <div class="space-y-4">
                         ${[...coachMockData.schedule, ...coachMockData.requests].map(s => `
                             <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                 <div class="flex items-center">
                                     <img src="${s.clientImg}" class="w-10 h-10 rounded-full object-cover mr-4" onerror="this.onerror=null;this.src='https://placehold.co/40x40/E0E0E0/333333?text=P';">
                                     <div><p class="font-bold text-gray-800">${s.client}</p><p class="text-sm text-gray-500">${s.time}</p></div>
                                 </div>
                                 <span class="text-sm font-medium ${s.status === 'Confirmed' ? 'text-green-600' : 'text-orange-500'}">${s.status}</span>
                             </div>
                         `).join('')}
                     </div>
                 </div>
            `;
        }

        function renderCoachClients() {
            return `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-8">My Clients</h1>
                  <div class="bg-white p-6 rounded-xl shadow-md">
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          ${coachMockData.clients.map(c => `
                              <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                  <img src="${c.img}" class="w-12 h-12 rounded-full object-cover mr-4" onerror="this.onerror=null;this.src='https://placehold.co/48x48/E0E0E0/333333?text=P';">
                                  <div>
                                      <p class="font-bold text-gray-800">${c.name}</p>
                                      <p class="text-sm text-gray-500">Total Sessions: ${c.sessions}</p>
                                  </div>
                              </div>
                          `).join('')}
                      </div>
                  </div>
            `;
        }
        
        function renderCoachRequests() {
             return `
                 <h1 class="text-3xl font-extrabold text-gray-900 mb-8">Session Requests</h1>
                  <div class="bg-white p-6 rounded-xl shadow-md">
                     <div class="space-y-4">
                         ${coachMockData.requests.map(r => `
                             <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-gray-50 rounded-lg">
                                 <div class="flex items-center mb-3 sm:mb-0">
                                     <img src="${r.clientImg}" class="w-10 h-10 rounded-full object-cover mr-4" onerror="this.onerror=null;this.src='https://placehold.co/40x40/E0E0E0/333333?text=P';">
                                     <div><p class="font-bold text-gray-800">${r.client}</p><p class="text-sm text-gray-500">${r.time}</p></div>
                                 </div>
                                 <div class="flex items-center space-x-2 self-end sm:self-center">
                                     <button class="text-sm bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition">Decline</button>
                                     <button class="text-sm bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition">Accept</button>
                                 </div>
                             </div>
                         `).join('')}
                     </div>
                 </div>
            `;
        }

        function renderCoachSettings() {
            return `
                <h1 class="text-3xl font-extrabold text-gray-900 mb-8">Settings</h1>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 space-y-8">
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h2 class="text-xl font-bold text-gray-800 mb-4">My Profile</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-sm font-medium text-gray-600">Full Name</label><input type="text" value="${coachMockData.coach.name}" class="mt-1 p-2 w-full border rounded-md"></div>
                                <div><label class="block text-sm font-medium text-gray-600">Specialty</label><input type="text" value="${coachMockData.coach.specialty}" class="mt-1 p-2 w-full border rounded-md"></div>
                                <div><label class="block text-sm font-medium text-gray-600">Email Address</label><input type="email" value="${coachMockData.coach.email}" class="mt-1 p-2 w-full border rounded-md"></div>
                                <div><label class="block text-sm font-medium text-gray-600">Phone Number</label><input type="tel" value="${coachMockData.coach.phone}" class="mt-1 p-2 w-full border rounded-md"></div>
                            </div>
                            <button class="mt-6 bg-sky-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-sky-700 transition">Save Changes</button>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md">
                             <h2 class="text-xl font-bold text-gray-800 mb-4">Change Password</h2>
                             <div class="space-y-4">
                                 <div><label class="block text-sm font-medium text-gray-600">Current Password</label><input type="password" placeholder="••••••••" class="mt-1 p-2 w-full border rounded-md"></div>
                                 <div><label class="block text-sm font-medium text-gray-600">New Password</label><input type="password" placeholder="••••••••" class="mt-1 p-2 w-full border rounded-md"></div>
                                 <div><label class="block text-sm font-medium text-gray-600">Confirm New Password</label><input type="password" placeholder="••••••••" class="mt-1 p-2 w-full border rounded-md"></div>
                             </div>
                             <button class="mt-6 bg-sky-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-sky-700 transition">Update Password</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMainCoachContent() {
            const container = document.getElementById('coach-dashboard-content');
            if (!container) return;

            switch (coachAppState.activePage) {
                case 'overview': container.innerHTML = renderCoachOverview(); break;
                case 'schedule': container.innerHTML = renderCoachSchedule(); break;
                case 'clients': container.innerHTML = renderCoachClients(); break;
                case 'requests': container.innerHTML = renderCoachRequests(); break;
                case 'settings': container.innerHTML = renderCoachSettings(); break;
                default: container.innerHTML = renderCoachOverview();
            }
        }

        // Updated event listeners to match the new header's HTML structure
        function attachCoachEventListeners() {
            const navLinks = document.querySelectorAll('.coach-nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    coachAppState.activePage = e.currentTarget.dataset.page;
                    renderCoachPage();
                });
            });

            // Logic for the new profile and mobile menu buttons
            const profileButton = document.getElementById('profile-button');
            const profileDropdown = document.getElementById('profile-dropdown');
            const mobileMenuButton = document.getElementById('mobile-menu-button');

            if (profileButton && profileDropdown) {
                profileButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    profileDropdown.classList.toggle('hidden');
                });
            }

            // This mobile menu button exists in the new header but its corresponding menu is not included.
            // A listener is added for it, but it won't have a visible effect until the menu is added.
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    // Add logic to toggle a mobile menu here if one is implemented
                });
            }

            document.body.addEventListener('click', (e) => {
                 if (profileDropdown && !profileDropdown.contains(e.target) && !e.target.closest('#profile-button')) { 
                    profileDropdown.classList.add('hidden'); 
                 }
            });
        }

        function renderCoachPage() {
            const appContainer = document.getElementById('coach-app-container');
            // We now call the new renderHeader function
            appContainer.innerHTML = `
                 ${renderHeader()}
                 <div class="flex">
                    ${renderCoachSidebar()}
                     <main class="flex-1 p-6 md:p-10">
                         <div class="container mx-auto" id="coach-dashboard-content">
                             <!-- Main content is injected here -->
                         </div>
                     </main>
                 </div>
            `;
            renderMainCoachContent();
            attachCoachEventListeners();
        }

        document.addEventListener('DOMContentLoaded', renderCoachPage);
    </script>
</body>
</html>
